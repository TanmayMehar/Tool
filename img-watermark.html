<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watermark Adder - Add Watermarks to Images Online | ToolKit</title>
    <meta name="description" content="Free online tool to add watermarks to your images. Protect your photos with text or image watermarks. Compress and optimize images simultaneously.">
    <meta name="keywords" content="watermark adder, image watermark, protect images, copyright protection, online watermark tool">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-example"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-dark: #0a192f;
            --secondary-dark: #112240;
            --accent-blue: #64ffda;
            --accent-purple: #7b4fff;
            --text-primary: #e6f1ff;
            --text-secondary: #8892b0;
            --card-bg: #172a45;
            --slider-bg: #2d3f5a;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary-dark) 0%, #0d1b2a 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(10, 25, 47, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            border: 1px solid rgba(100, 255, 218, 0.1);
        }
        
        header {
            background: linear-gradient(to right, var(--secondary-dark), var(--primary-dark));
            color: var(--text-primary);
            padding: 20px 30px;
            text-align: center;
            border-bottom: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        header p {
            font-size: 1.1rem;
            opacity: 0.9;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .breadcrumb {
            padding: 15px 30px;
            background: var(--secondary-dark);
            color: var(--text-secondary);
            font-size: 0.9rem;
            border-bottom: 1px solid rgba(100, 255, 218, 0.1);
        }
        
        .breadcrumb a {
            color: var(--accent-blue);
            text-decoration: none;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
            gap: 20px;
        }
        
        .tool-section {
            flex: 1 1 700px;
            padding: 25px;
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .ad-section {
            flex: 0 1 300px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .ad-unit {
            background: var(--secondary-dark);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            min-height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        .ad-unit p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .upload-container {
            border: 2px dashed var(--accent-purple);
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s;
            background: rgba(27, 42, 65, 0.5);
        }
        
        .upload-container:hover {
            background: rgba(39, 59, 89, 0.5);
            border-color: var(--accent-blue);
        }
        
        .upload-container i {
            font-size: 3rem;
            color: var(--accent-blue);
            margin-bottom: 15px;
        }
        
        .upload-btn {
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-blue));
            color: var(--primary-dark);
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s;
        }
        
        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(123, 79, 255, 0.4);
        }
        
        .controls {
            margin: 25px 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--accent-blue);
        }
        
        .control-group input[type="text"],
        .control-group input[type="number"],
        .control-group input[type="color"],
        .control-group select {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid var(--slider-bg);
            background: var(--secondary-dark);
            color: var(--text-primary);
            font-size: 1rem;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        input[type="range"] {
            flex: 1;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 5px;
            background: var(--slider-bg);
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-blue);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-blue);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
            border: none;
        }
        
        .value-display {
            font-weight: 700;
            color: var(--accent-blue);
            min-width: 40px;
            text-align: center;
        }
        
        .preview-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
        }
        
        .image-preview {
            flex: 1 1 400px;
            text-align: center;
        }
        
        .image-preview h3 {
            margin-bottom: 10px;
            color: var(--accent-blue);
        }
        
        .preview-img {
            max-width: 100%;
            max-height: 400px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            margin-bottom: 10px;
            border: 1px solid rgba(100, 255, 218, 0.2);
            object-fit: contain;
        }
        
        .file-info {
            background: var(--secondary-dark);
            padding: 10px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-blue));
            color: var(--primary-dark);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(123, 79, 255, 0.4);
        }
        
        .btn-outline {
            background: transparent;
            color: var(--accent-blue);
            border: 2px solid var(--accent-blue);
        }
        
        .btn-outline:hover {
            background: rgba(100, 255, 218, 0.1);
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            background: var(--secondary-dark);
            color: var(--text-secondary);
            font-size: 0.9rem;
            border-top: 1px solid rgba(100, 255, 218, 0.1);
        }
        
        .seo-content {
            padding: 30px;
            background: var(--card-bg);
            margin: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .seo-content h2 {
            color: var(--accent-blue);
            margin-bottom: 20px;
        }
        
        .seo-content p {
            margin-bottom: 15px;
            color: var(--text-secondary);
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 8px;
            color: var(--accent-blue);
            cursor: help;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--secondary-dark);
            color: var(--text-primary);
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-weight: normal;
            font-size: 0.9rem;
            border: 1px solid var(--accent-blue);
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .ad-section {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .ad-unit {
                flex: 1 1 200px;
            }
            
            header h1 {
                font-size: 1.8rem;
            }
            
            header p {
                font-size: 1rem;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .action-buttons {
                flex-direction: column;
            }
            
            .preview-container {
                flex-direction: column;
            }
            
            .upload-container {
                padding: 20px 10px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
        
        /* Animation for processing */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .processing {
            animation: pulse 1.5s infinite;
        }
        
        /* Stats display */
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            background: var(--secondary-dark);
            padding: 15px;
            border-radius: 10px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .stat-item {
            text-align: center;
            flex: 1;
            min-width: 120px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-blue);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Navbar Start -->
<nav class="w-full bg-[#0b1526] px-6 py-4 flex items-center justify-between shadow-md">
  <!-- Logo -->
  <a href="/Tool/index.html" class="flex items-center space-x-2">
    <div class="w-6 h-6 bg-gradient-to-r from-green-400 to-teal-500 rounded-full"></div>
    <span class="text-xl font-bold text-teal-300">ToolKit</span>
  </a>

  <!-- Desktop Menu -->
  <ul class="hidden md:flex space-x-8 font-medium text-white">
    <li><a href="/Tool/index.html" class="hover:text-teal-400 transition">Home</a></li>
    <li><a href="/Tool/about.html" class="hover:text-teal-400 transition">About</a></li>
    <li><a href="/Tool/contect.html" class="hover:text-teal-400 transition">Contact Us</a></li>
    <li><a href="/Tool/privacy.html" class="hover:text-teal-400 transition">Privacy Policy</a></li>
    <li><a href="/Tool/term.html" class="hover:text-teal-400 transition">Terms & Conditions</a></li>
    <li><a href="/Tool/desclaimar.html" class="hover:text-teal-400 transition">Disclaimer</a></li>
  </ul>

  <!-- Buttons (Desktop) -->
  <div class="hidden md:flex space-x-4">
    <button class="px-4 py-2 rounded-lg bg-gradient-to-r from-green-400 to-teal-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Login</button>
    <button class="px-4 py-2 rounded-lg bg-gradient-to-r from-purple-400 to-blue-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Sign Up</button>
  </div>

  <!-- Mobile Hamburger -->
  <div class="md:hidden">
    <button id="menu-btn" class="focus:outline-none">
      <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" stroke-width="2"
           viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
  </div>
</nav>

<!-- Mobile Menu -->
<div id="menu" class="hidden md:hidden flex flex-col bg-[#0b1526] px-6 py-4 space-y-4 text-white transition-all duration-300 ease-in-out">
  <a href="/Tool/index.html" class="block hover:text-teal-400 transition">Home</a>
  <a href="/Tool/about.html" class="block hover:text-teal-400 transition">About</a>
  <a href="/Tool/contect.html" class="block hover:text-teal-400 transition">Contact Us</a>
  <a href="/Tool/privacy.html" class="block hover:text-teal-400 transition">Privacy Policy</a>
  <a href="/Tool/term.html" class="block hover:text-teal-400 transition">Terms & Conditions</a>
  <a href="/Tool/desclaimar.html" class="block hover:text-teal-400 transition">Disclaimer</a>
  
  <button class="w-full px-4 py-2 rounded-lg bg-gradient-to-r from-green-400 to-teal-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Login</button>
  <button class="w-full px-4 py-2 rounded-lg bg-gradient-to-r from-purple-400 to-blue-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Sign Up</button>
</div>
<!-- Navbar End -->

<!-- Script -->
<script>
  const btn = document.getElementById('menu-btn');
  const menu = document.getElementById('menu');

  btn.addEventListener('click', () => {
    menu.classList.toggle('hidden');
  });
</script>

        <header>
            <h1>Watermark Adder Tool</h1>
            <p>Protect your images by adding text or image watermarks. Adjust compression to optimize file size.</p>
        </header>
        
        <div class="breadcrumb">
            <a href="#">Home</a> > <a href="#">Image Tools</a> > Watermark Adder
        </div>
        
        <div class="main-content">
            <section class="tool-section">
                <div class="upload-container">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h2>Upload Your Image</h2>
                    <p>Supported formats: JPG, PNG, WebP (Max 5MB)</p>
                    <input type="file" id="imageUpload" accept="image/*" hidden>
                    <button class="upload-btn" id="uploadTrigger"><i class="fas fa-upload"></i> Select Image</button>
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="watermarkText">Watermark Text <span class="tooltip">?
                            <span class="tooltiptext">Text to display as watermark on your image</span>
                        </span></label>
                        <input type="text" id="watermarkText" placeholder="Enter watermark text" value="Your Watermark">
                    </div>
                    
                    <div class="control-group">
                        <label for="textColor">Text Color</label>
                        <input type="color" id="textColor" value="#ffffff">
                    </div>
                    
                    <div class="control-group">
                        <label for="fontSize">Font Size <span class="tooltip">?
                            <span class="tooltiptext">Size of the watermark text</span>
                        </span></label>
                        <div class="slider-container">
                            <input type="range" id="fontSize" min="12" max="72" value="32">
                            <span class="value-display" id="fontSizeValue">32px</span>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label for="opacity">Watermark Opacity</label>
                        <div class="slider-container">
                            <input type="range" id="opacity" min="10" max="100" value="70">
                            <span class="value-display" id="opacityValue">70%</span>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label for="position">Watermark Position</label>
                        <select id="position">
                            <option value="top-left">Top Left</option>
                            <option value="top-right">Top Right</option>
                            <option value="center" selected>Center</option>
                            <option value="bottom-left">Bottom Left</option>
                            <option value="bottom-right">Bottom Right</option>
                            <option value="tiled">Tiled (Repeated)</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label for="compressionLevel">Compression Level</label>
                        <div class="slider-container">
                            <input type="range" id="compressionLevel" min="0" max="100" value="80">
                            <span class="value-display" id="compressionValue">80%</span>
                        </div>
                    </div>
                </div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="originalSizeStat">0 KB</div>
                        <div class="stat-label">Original Size</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="compressedSizeStat">0 KB</div>
                        <div class="stat-label">Watermarked Size</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="savingsStat">0%</div>
                        <div class="stat-label">Size Reduction</div>
                    </div>
                </div>
                
                <div class="preview-container">
                    <div class="image-preview">
                        <h3>Original Image</h3>
                        <div id="originalPreview"></div>
                        <div class="file-info" id="originalInfo">No image selected</div>
                    </div>
                    
                    <div class="image-preview">
                        <h3>Watermarked Image</h3>
                        <div id="watermarkedPreview"></div>
                        <div class="file-info" id="watermarkedInfo">Watermark not applied yet</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" id="applyWatermarkBtn" disabled><i class="fas fa-tint"></i> Apply Watermark</button>
                    <button class="btn btn-outline" id="downloadBtn" disabled><i class="fas fa-download"></i> Download</button>
                    <button class="btn btn-outline" id="resetBtn"><i class="fas fa-redo"></i> Reset</button>
                </div>
            </section>
            
            <section class="ad-section">
                <div class="ad-unit">
                    <!-- Google AdSense Ad Unit -->
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-example"
                         data-ad-slot="1234567890"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
                
                <div class="ad-unit">
                    <!-- Google AdSense Ad Unit -->
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-example"
                         data-ad-slot="0987654321"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
            </section>
        </div>
        
        <section class="seo-content">
            <h2>Why Add Watermarks to Your Images?</h2>
            <p>Watermarking is essential for protecting your intellectual property and preventing unauthorized use of your images. Whether you're a photographer, artist, or content creator, adding a watermark helps maintain ownership of your work while still allowing you to share it online.</p>
            
            <p>Our watermark tool allows you to add both text and image watermarks with customizable opacity, position, and size. You can also compress your images during the process to optimize them for web use without noticeable quality loss.</p>
            
            <p>Best practices for watermarking include placing your watermark in a visible but non-obtrusive location, using semi-transparent watermarks that don't completely obscure the image, and ensuring your watermark is consistent across all your images for brand recognition.</p>
        </section>
        
        <footer>
            <p>&copy; 2023 ToolKit | All Rights Reserved</p>
            <p>This tool processes your images entirely in your browser - no uploads to servers required!</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const uploadTrigger = document.getElementById('uploadTrigger');
            const imageUpload = document.getElementById('imageUpload');
            const watermarkText = document.getElementById('watermarkText');
            const textColor = document.getElementById('textColor');
            const fontSize = document.getElementById('fontSize');
            const fontSizeValue = document.getElementById('fontSizeValue');
            const opacity = document.getElementById('opacity');
            const opacityValue = document.getElementById('opacityValue');
            const position = document.getElementById('position');
            const compressionLevel = document.getElementById('compressionLevel');
            const compressionValue = document.getElementById('compressionValue');
            const applyWatermarkBtn = document.getElementById('applyWatermarkBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const resetBtn = document.getElementById('resetBtn');
            const originalPreview = document.getElementById('originalPreview');
            const watermarkedPreview = document.getElementById('watermarkedPreview');
            const originalInfo = document.getElementById('originalInfo');
            const watermarkedInfo = document.getElementById('watermarkedInfo');
            const originalSizeStat = document.getElementById('originalSizeStat');
            const compressedSizeStat = document.getElementById('compressedSizeStat');
            const savingsStat = document.getElementById('savingsStat');
            
            let originalImage = null;
            let watermarkedImageBlob = null;
            let originalImageSize = 0;
            
            // Event listeners
            uploadTrigger.addEventListener('click', () => imageUpload.click());
            
            imageUpload.addEventListener('change', function(e) {
                if (this.files && this.files[0]) {
                    const file = this.files[0];
                    
                    // Check if file is an image
                    if (!file.type.match('image.*')) {
                        alert('Please select a valid image file.');
                        return;
                    }
                    
                    // Check file size (5MB limit)
                    if (file.size > 5 * 1024 * 1024) {
                        alert('Please select an image smaller than 5MB.');
                        return;
                    }
                    
                    // Display original image
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        originalImage = new Image();
                        originalImage.onload = function() {
                            // Clear previous previews
                            originalPreview.innerHTML = '';
                            watermarkedPreview.innerHTML = '';
                            
                            // Create and append image element
                            const imgElement = document.createElement('img');
                            imgElement.src = event.target.result;
                            imgElement.classList.add('preview-img');
                            originalPreview.appendChild(imgElement);
                            
                            // Update file info
                            const fileSize = (file.size / 1024).toFixed(2);
                            originalInfo.textContent = `Size: ${fileSize} KB | Dimensions: ${originalImage.width}x${originalImage.height}`;
                            originalSizeStat.textContent = `${fileSize} KB`;
                            originalImageSize = file.size;
                            
                            // Enable apply watermark button
                            applyWatermarkBtn.disabled = false;
                        };
                        originalImage.src = event.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            fontSize.addEventListener('input', function() {
                fontSizeValue.textContent = `${this.value}px`;
            });
            
            opacity.addEventListener('input', function() {
                opacityValue.textContent = `${this.value}%`;
            });
            
            compressionLevel.addEventListener('input', function() {
                compressionValue.textContent = `${this.value}%`;
            });
            
            applyWatermarkBtn.addEventListener('click', function() {
                if (!originalImage) return;
                
                // Show loading state
                watermarkedPreview.innerHTML = '<p><i class="fas fa-spinner fa-spin"></i> Applying watermark...</p>';
                applyWatermarkBtn.disabled = true;
                applyWatermarkBtn.classList.add('processing');
                
                // Process the image
                setTimeout(applyWatermark, 500);
            });
            
            downloadBtn.addEventListener('click', function() {
                if (!watermarkedImageBlob) return;
                
                const downloadLink = document.createElement('a');
                downloadLink.href = URL.createObjectURL(watermarkedImageBlob);
                downloadLink.download = 'watermarked-image.jpg';
                document.body.appendChild(downloadLink);
                downloadLink.click();
                document.body.removeChild(downloadLink);
            });
            
            resetBtn.addEventListener('click', function() {
                // Reset everything
                originalImage = null;
                watermarkedImageBlob = null;
                originalPreview.innerHTML = '';
                watermarkedPreview.innerHTML = '';
                originalInfo.textContent = 'No image selected';
                watermarkedInfo.textContent = 'Watermark not applied yet';
                imageUpload.value = '';
                watermarkText.value = 'Your Watermark';
                textColor.value = '#ffffff';
                fontSize.value = 32;
                fontSizeValue.textContent = '32px';
                opacity.value = 70;
                opacityValue.textContent = '70%';
                position.value = 'center';
                compressionLevel.value = 80;
                compressionValue.textContent = '80%';
                applyWatermarkBtn.disabled = true;
                downloadBtn.disabled = true;
                applyWatermarkBtn.classList.remove('processing');
                
                // Reset stats
                originalSizeStat.textContent = '0 KB';
                compressedSizeStat.textContent = '0 KB';
                savingsStat.textContent = '0%';
            });
            
            function applyWatermark() {
                // Create canvas
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                // Set canvas dimensions
                canvas.width = originalImage.width;
                canvas.height = originalImage.height;
                
                // Draw original image on canvas
                ctx.drawImage(originalImage, 0, 0, canvas.width, canvas.height);
                
                // Prepare watermark text
                const text = watermarkText.value || 'Your Watermark';
                const font = `${fontSize.value}px Arial`;
                const color = textColor.value;
                const alpha = opacity.value / 100;
                
                // Set font properties
                ctx.font = font;
                ctx.fillStyle = color;
                ctx.globalAlpha = alpha;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                
                // Apply watermark based on position
                const positionValue = position.value;
                
                if (positionValue === 'tiled') {
                    // Tiled watermark
                    const textWidth = ctx.measureText(text).width;
                    const textHeight = parseInt(font);
                    const xSpacing = textWidth * 1.5;
                    const ySpacing = textHeight * 2;
                    
                    for (let x = xSpacing; x < canvas.width; x += xSpacing) {
                        for (let y = ySpacing; y < canvas.height; y += ySpacing) {
                            ctx.fillText(text, x, y);
                        }
                    }
                } else {
                    // Single watermark
                    let x, y;
                    
                    switch(positionValue) {
                        case 'top-left':
                            x = canvas.width * 0.2;
                            y = canvas.height * 0.1;
                            ctx.textAlign = 'left';
                            ctx.textBaseline = 'top';
                            break;
                        case 'top-right':
                            x = canvas.width * 0.8;
                            y = canvas.height * 0.1;
                            ctx.textAlign = 'right';
                            ctx.textBaseline = 'top';
                            break;
                        case 'center':
                            x = canvas.width / 2;
                            y = canvas.height / 2;
                            break;
                        case 'bottom-left':
                            x = canvas.width * 0.2;
                            y = canvas.height * 0.9;
                            ctx.textAlign = 'left';
                            ctx.textBaseline = 'bottom';
                            break;
                        case 'bottom-right':
                            x = canvas.width * 0.8;
                            y = canvas.height * 0.9;
                            ctx.textAlign = 'right';
                            ctx.textBaseline = 'bottom';
                            break;
                    }
                    
                    ctx.fillText(text, x, y);
                }
                
                // Get compression level
                const quality = compressionLevel.value / 100;
                
                // Convert canvas to blob with compression
                canvas.toBlob(function(blob) {
                    // Create and display watermarked image
                    const watermarkedUrl = URL.createObjectURL(blob);
                    watermarkedImageBlob = blob;
                    
                    const imgElement = document.createElement('img');
                    imgElement.src = watermarkedUrl;
                    imgElement.classList.add('preview-img');
                    watermarkedPreview.innerHTML = '';
                    watermarkedPreview.appendChild(imgElement);
                    
                    // Update file info
                    const fileSize = (blob.size / 1024).toFixed(2);
                    watermarkedInfo.textContent = `Size: ${fileSize} KB | Dimensions: ${originalImage.width}x${originalImage.height}`;
                    compressedSizeStat.textContent = `${fileSize} KB`;
                    
                    // Calculate savings
                    const savings = (100 - (blob.size / originalImageSize) * 100).toFixed(1);
                    watermarkedInfo.textContent += ` | Reduced by: ${savings}%`;
                    savingsStat.textContent = `${savings}%`;
                    
                    // Enable download button
                    downloadBtn.disabled = false;
                    
                    // Reset apply button
                    applyWatermarkBtn.disabled = false;
                    applyWatermarkBtn.classList.remove('processing');
                }, 'image/jpeg', quality);
            }
        });
    </script>
</body>
</html>
