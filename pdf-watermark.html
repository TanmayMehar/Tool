<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Watermark Pro - Add/Remove Watermarks from PDF Files</title>
    <meta name="description" content="Free online PDF watermark tool. Add text or image watermarks to your PDF files or remove existing watermarks. Compress and optimize your PDFs with our professional tool.">
    <meta name="keywords" content="PDF watermark, add watermark to PDF, remove watermark from PDF, PDF tools, PDF compression, PDF optimization">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-dark: #0a192f;
            --secondary-dark: #112240;
            --accent-blue: #64ffda;
            --accent-purple: #7b4fff;
            --text-primary: #e6f1ff;
            --text-secondary: #8892b0;
            --card-bg: #172a45;
            --slider-bg: #2d3f5a;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary-dark) 0%, #0d1b2a 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(10, 25, 47, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            border: 1px solid rgba(100, 255, 218, 0.1);
        }
        
        header {
            background: linear-gradient(to right, var(--secondary-dark), var(--primary-dark));
            color: var(--text-primary);
            padding: 30px;
            text-align: center;
            border-bottom: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
            color: var(--text-secondary);
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
            gap: 20px;
        }
        
        .tool-section {
            flex: 1 1 700px;
            padding: 25px;
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .ad-section {
            flex: 0 1 300px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .ad-unit {
            background: var(--secondary-dark);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(100, 255, 218, 0.2);
            overflow: hidden;
        }
        
        .ad-unit.horizontal {
            min-height: 90px;
            width: 100%;
        }
        
        .ad-unit.vertical {
            min-height: 250px;
            width: 100%;
        }
        
        .ad-unit.square {
            min-height: 250px;
            width: 100%;
        }
        
        .upload-container {
            border: 2px dashed var(--accent-purple);
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s;
            background: rgba(27, 42, 65, 0.5);
        }
        
        .upload-container:hover {
            background: rgba(39, 59, 89, 0.5);
            border-color: var(--accent-blue);
        }
        
        .upload-container i {
            font-size: 3rem;
            color: var(--accent-blue);
            margin-bottom: 15px;
        }
        
        .upload-btn {
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-blue));
            color: var(--primary-dark);
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s;
        }
        
        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(123, 79, 255, 0.4);
        }
        
        .watermark-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--accent-blue);
        }
        
        .control-group input, .control-group select, .control-group textarea {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid var(--slider-bg);
            background: var(--secondary-dark);
            color: var(--text-primary);
            font-size: 1rem;
        }
        
        .control-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        input[type="range"] {
            flex: 1;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 5px;
            background: var(--slider-bg);
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-blue);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-blue);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
            border: none;
        }
        
        .value-display {
            font-weight: 700;
            color: var(--accent-blue);
            min-width: 40px;
        }
        
        .color-group {
            display: flex;
            gap: 10px;
        }
        
        .color-input {
            flex: 1;
            height: 40px;
            padding: 0;
            border: none;
        }
        
        .preview-container {
            margin: 30px 0;
            text-align: center;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--secondary-dark);
            border-radius: 10px;
            overflow: hidden;
            flex-direction: column;
            padding: 20px;
        }
        
        .preview-placeholder {
            color: var(--text-secondary);
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        
        .preview-img {
            max-width: 100%;
            max-height: 400px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            margin-bottom: 10px;
            border: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-blue));
            color: var(--primary-dark);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(123, 79, 255, 0.4);
        }
        
        .btn-outline {
            background: transparent;
            color: var(--accent-blue);
            border: 2px solid var(--accent-blue);
        }
        
        .btn-outline:hover {
            background: rgba(100, 255, 218, 0.1);
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            background: var(--secondary-dark);
            color: var(--text-secondary);
            font-size: 0.9rem;
            border-top: 1px solid rgba(100, 255, 218, 0.1);
        }
        
        .seo-content {
            padding: 30px;
            background: var(--card-bg);
            margin: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .seo-content h2 {
            color: var(--accent-blue);
            margin-bottom: 20px;
        }
        
        .seo-content p {
            margin-bottom: 15px;
            color: var(--text-secondary);
        }
        
        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            border: 1px solid var(--accent-blue);
            color: var(--accent-blue);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .ad-section {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .ad-unit {
                flex: 1 1 200px;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            header p {
                font-size: 1rem;
            }
            
            .theme-toggle {
                position: relative;
                top: 0;
                right: 0;
                margin: 0 auto 20px;
                width: fit-content;
            }
            
            .watermark-controls {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .action-buttons {
                flex-direction: column;
            }
            
            .upload-container {
                padding: 20px 10px;
            }
            
            .color-group {
                flex-direction: column;
            }
        }
        
        /* Animation for processing */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .processing {
            animation: pulse 1.5s infinite;
        }
        
        /* Stats display */
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            background: var(--secondary-dark);
            padding: 15px;
            border-radius: 10px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            text-align: center;
            flex: 1;
            min-width: 120px;
            margin: 5px;
        }
        
        .stat-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--accent-blue);
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        /* Watermark type selector */
        .watermark-type {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .type-btn {
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            background: var(--secondary-dark);
            border: 1px solid var(--accent-purple);
            color: var(--text-primary);
            transition: all 0.3s;
        }
        
        .type-btn.active {
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-blue));
            color: var(--primary-dark);
            border-color: transparent;
        }
        
        .type-btn:hover {
            background: var(--accent-purple);
            color: white;
        }
        
        /* Watermark preview */
        .watermark-preview {
            margin-top: 20px;
            padding: 20px;
            background: var(--secondary-dark);
            border-radius: 10px;
            text-align: center;
        }
        
        .watermark-example {
            display: inline-block;
            padding: 30px;
            background: white;
            color: rgba(0, 0, 0, 0.5);
            font-size: 24px;
            transform: rotate(-45deg);
            margin: 20px 0;
            position: relative;
        }
    </style>
</head>
<body>
    <button class="theme-toggle">
        <i class="fas fa-moon"></i> Dark Mode
    </button>

    <div class="container">
        <!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Navbar Start -->
<nav class="w-full bg-[#0b1526] px-6 py-4 flex items-center justify-between shadow-md">
  <!-- Logo -->
  <a href="/Tool/index.html" class="flex items-center space-x-2">
    <div class="w-6 h-6 bg-gradient-to-r from-green-400 to-teal-500 rounded-full"></div>
    <span class="text-xl font-bold text-teal-300">ToolKit</span>
  </a>

  <!-- Desktop Menu -->
  <ul class="hidden md:flex space-x-8 font-medium text-white">
    <li><a href="/Tool/index.html" class="hover:text-teal-400 transition">Home</a></li>
    <li><a href="/Tool/about.html" class="hover:text-teal-400 transition">About</a></li>
    <li><a href="/Tool/contect.html" class="hover:text-teal-400 transition">Contact Us</a></li>
    <li><a href="/Tool/privacy.html" class="hover:text-teal-400 transition">Privacy Policy</a></li>
    <li><a href="/Tool/term.html" class="hover:text-teal-400 transition">Terms & Conditions</a></li>
    <li><a href="/Tool/desclaimar.html" class="hover:text-teal-400 transition">Disclaimer</a></li>
  </ul>

  <!-- Buttons (Desktop) -->
  <div class="hidden md:flex space-x-4">
    <button class="px-4 py-2 rounded-lg bg-gradient-to-r from-green-400 to-teal-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Login</button>
    <button class="px-4 py-2 rounded-lg bg-gradient-to-r from-purple-400 to-blue-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Sign Up</button>
  </div>

  <!-- Mobile Hamburger -->
  <div class="md:hidden">
    <button id="menu-btn" class="focus:outline-none">
      <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" stroke-width="2"
           viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
  </div>
</nav>

<!-- Mobile Menu -->
<div id="menu" class="hidden md:hidden flex flex-col bg-[#0b1526] px-6 py-4 space-y-4 text-white transition-all duration-300 ease-in-out">
  <a href="/Tool/index.html" class="block hover:text-teal-400 transition">Home</a>
  <a href="/Tool/about.html" class="block hover:text-teal-400 transition">About</a>
  <a href="/Tool/contect.html" class="block hover:text-teal-400 transition">Contact Us</a>
  <a href="/Tool/privacy.html" class="block hover:text-teal-400 transition">Privacy Policy</a>
  <a href="/Tool/term.html" class="block hover:text-teal-400 transition">Terms & Conditions</a>
  <a href="/Tool/desclaimar.html" class="block hover:text-teal-400 transition">Disclaimer</a>
  
  <button class="w-full px-4 py-2 rounded-lg bg-gradient-to-r from-green-400 to-teal-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Login</button>
  <button class="w-full px-4 py-2 rounded-lg bg-gradient-to-r from-purple-400 to-blue-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Sign Up</button>
</div>
<!-- Navbar End -->
<div class="ad-unit horizontal">
                    <!-- Adsterra Leaderboard Banner -->
                    <script type="text/javascript">
                        atOptions = {
                            'key' : 'dfb13df8c68bb9b06c88d4a4fde08313',
                            'format' : 'iframe',
                            'height' : 90,
                            'width' : 728,
                            'params' : {}
                        };
                    </script>
                    <script type="text/javascript" src="//www.highperformanceformat.com/dfb13df8c68bb9b06c88d4a4fde08313/invoke.js"></script>
                </div>
<!-- Script -->
<script>
  const btn = document.getElementById('menu-btn');
  const menu = document.getElementById('menu');

  btn.addEventListener('click', () => {
    menu.classList.toggle('hidden');
  });
</script>

        <header>
            <h1>PDF Watermark Pro</h1>
            <p>Add or remove watermarks from your PDF files with professional results</p>
        </header>
        
        <div class="main-content">
            <section class="tool-section">
                <div class="upload-container">
                    <i class="fas fa-file-pdf"></i>
                    <h2>Upload Your PDF File</h2>
                    <p>Max file size: 50MB</p>
                    <input type="file" id="pdfUpload" accept=".pdf" hidden>
                    <button class="upload-btn" id="uploadTrigger"><i class="fas fa-upload"></i> Select PDF</button>
                </div>
                
                <div class="watermark-type">
                    <div class="type-btn active" data-type="add">Add Watermark</div>
                    <div class="type-btn" data-type="remove">Remove Watermark</div>
                    <div class="type-btn" data-type="text">Text Watermark</div>
                    <div class="type-btn" data-type="image">Image Watermark</div>
                </div>
                
                <div class="watermark-controls">
                    <div class="control-group">
                        <label for="watermarkText">Watermark Text</label>
                        <input type="text" id="watermarkText" placeholder="Enter watermark text" value="CONFIDENTIAL">
                    </div>
                    
                    <div class="control-group">
                        <label for="textColor">Text Color</label>
                        <div class="color-group">
                            <input type="color" id="textColor" class="color-input" value="#ff0000">
                            <input type="text" id="textColorValue" value="#FF0000" readonly>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label for="fontFamily">Font Style</label>
                        <select id="fontFamily">
                            <option value="Arial">Arial</option>
                            <option value="Helvetica">Helvetica</option>
                            <option value="Times New Roman">Times New Roman</option>
                            <option value="Courier New">Courier New</option>
                            <option value="Verdana">Verdana</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label for="fontSize">Font Size</label>
                        <div class="slider-container">
                            <input type="range" id="fontSize" min="10" max="72" value="36">
                            <span class="value-display" id="fontSizeValue">36px</span>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label for="opacity">Opacity</label>
                        <div class="slider-container">
                            <input type="range" id="opacity" min="10" max="100" value="50">
                            <span class="value-display" id="opacityValue">50%</span>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label for="position">Position</label>
                        <select id="position">
                            <option value="center">Center</option>
                            <option value="top-left">Top Left</option>
                            <option value="top-right">Top Right</option>
                            <option value="bottom-left">Bottom Left</option>
                            <option value="bottom-right">Bottom Right</option>
                            <option value="tiled">Tiled (Repeat)</option>
                        </select>
                    </div>
                </div>
                
                <div class="watermark-preview">
                    <h3>Watermark Preview</h3>
                    <div class="watermark-example" id="watermarkExample">CONFIDENTIAL</div>
                    <p>This is a preview of how your watermark will appear</p>
                </div>
                
                <div class="control-group">
                    <label for="compressionLevel">Compression Level</label>
                    <div class="slider-container">
                        <input type="range" id="compressionLevel" min="0" max="100" value="80">
                        <span class="value-display" id="compressionValue">80%</span>
                    </div>
                </div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="originalSizeStat">0 KB</div>
                        <div class="stat-label">Original Size</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="compressedSizeStat">0 KB</div>
                        <div class="stat-label">Compressed Size</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="savingsStat">0%</div>
                        <div class="stat-label">Size Reduction</div>
                    </div>
                </div>
                
                <div class="preview-container">
                    <div class="preview-placeholder" id="previewPlaceholder">PDF preview will appear here after processing</div>
                    <canvas id="pdfPreview" style="display: none;"></canvas>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" id="processBtn" disabled><i class="fas fa-cogs"></i> Process PDF</button>
                    <button class="btn btn-outline" id="downloadBtn" disabled><i class="fas fa-download"></i> Download</button>
                    <button class="btn btn-outline" id="resetBtn"><i class="fas fa-redo"></i> Reset</button>
                </div>
            </section>
            
            <section class="ad-section">
                <div class="ad-unit horizontal">
                    <!-- Adsterra Leaderboard Banner -->
                    <script type="text/javascript">
                        atOptions = {
                            'key' : 'dfb13df8c68bb9b06c88d4a4fde08313',
                            'format' : 'iframe',
                            'height' : 90,
                            'width' : 728,
                            'params' : {}
                        };
                    </script>
                    <script type="text/javascript" src="//www.highperformanceformat.com/dfb13df8c68bb9b06c88d4a4fde08313/invoke.js"></script>
                </div>
                
                <div class="ad-unit vertical">
                    <!-- Adsterra Native Banner (Vertical) -->
                    <script async="async" data-cfasync="false" src="//pl27598289.revenuecpmgate.com/66ab86a52b5de6c71875567f09387ce0/invoke.js"></script>
                    <div id="container-66ab86a52b5de6c71875567f09387ce0"></div>
                </div>
                
                <div class="ad-unit square">
                    <!-- Adsterra Native Banner (Square) -->
                    <script async="async" data-cfasync="false" src="//pl27598289.revenuecpmgate.com/66ab86a52b5de6c71875567f09387ce0/invoke.js"></script>
                    <div id="container-66ab86a52b5de6c71875567f09387ce0"></div>
                </div>
            </section>
        </div>
        
        <section class="seo-content">
            <h2>Professional PDF Watermarking Tool</h2>
            <p>PDF Watermark Pro is the ultimate online tool for adding or removing watermarks from your PDF files. Protect your documents with text or image watermarks, or remove unwanted watermarks from existing PDFs.</p>
            
            <p>Our advanced watermarking technology allows you to customize the appearance, position, and opacity of your watermarks for professional results. With built-in compression, you can reduce file size without sacrificing quality.</p>
            
            <p>All processing happens directly in your browser for maximum privacy and security. Your files never leave your computer, ensuring complete confidentiality of your documents.</p>
        </section>
        
        <footer>
            <p>&copy; 2023 PDF Watermark Pro | All Rights Reserved</p>
            <p>This tool processes your PDFs entirely in your browser - no uploads to servers required!</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const uploadTrigger = document.getElementById('uploadTrigger');
            const pdfUpload = document.getElementById('pdfUpload');
            const processBtn = document.getElementById('processBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const resetBtn = document.getElementById('resetBtn');
            const previewPlaceholder = document.getElementById('previewPlaceholder');
            const originalSizeStat = document.getElementById('originalSizeStat');
            const compressedSizeStat = document.getElementById('compressedSizeStat');
            const savingsStat = document.getElementById('savingsStat');
            
            // Watermark controls
            const watermarkText = document.getElementById('watermarkText');
            const textColor = document.getElementById('textColor');
            const textColorValue = document.getElementById('textColorValue');
            const fontFamily = document.getElementById('fontFamily');
            const fontSize = document.getElementById('fontSize');
            const fontSizeValue = document.getElementById('fontSizeValue');
            const opacity = document.getElementById('opacity');
            const opacityValue = document.getElementById('opacityValue');
            const position = document.getElementById('position');
            const compressionLevel = document.getElementById('compressionLevel');
            const compressionValue = document.getElementById('compressionValue');
            const watermarkExample = document.getElementById('watermarkExample');
            
            let originalPdfFile = null;
            let processedPdfBlob = null;
            let originalFileSize = 0;
            
            // Event listeners
            uploadTrigger.addEventListener('click', () => pdfUpload.click());
            
            pdfUpload.addEventListener('change', function(e) {
                if (this.files && this.files[0]) {
                    loadPdf(this.files[0]);
                }
            });
            
            // Watermark type selector
            document.querySelectorAll('.type-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.type-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const type = this.getAttribute('data-type');
                    updateControlsVisibility(type);
                });
            });
            
            // Watermark control event listeners
            watermarkText.addEventListener('input', function() {
                watermarkExample.textContent = this.value || 'CONFIDENTIAL';
                updateWatermarkPreview();
            });
            
            textColor.addEventListener('input', function() {
                textColorValue.value = this.value;
                updateWatermarkPreview();
            });
            
            textColorValue.addEventListener('input', function() {
                textColor.value = this.value;
                updateWatermarkPreview();
            });
            
            fontFamily.addEventListener('change', updateWatermarkPreview);
            
            fontSize.addEventListener('input', function() {
                fontSizeValue.textContent = `${this.value}px`;
                updateWatermarkPreview();
            });
            
            opacity.addEventListener('input', function() {
                opacityValue.textContent = `${this.value}%`;
                updateWatermarkPreview();
            });
            
            position.addEventListener('change', function() {
                // In a real app, this would update the preview
            });
            
            compressionLevel.addEventListener('input', function() {
                compressionValue.textContent = `${this.value}%`;
            });
            
            processBtn.addEventListener('click', function() {
                if (!originalPdfFile) {
                    alert('Please upload a PDF file first.');
                    return;
                }
                
                processPdf();
            });
            
            downloadBtn.addEventListener('click', function() {
                if (!processedPdfBlob) return;
                
                const downloadLink = document.createElement('a');
                downloadLink.href = URL.createObjectURL(processedPdfBlob);
                downloadLink.download = 'watermarked.pdf';
                document.body.appendChild(downloadLink);
                downloadLink.click();
                document.body.removeChild(downloadLink);
            });
            
            resetBtn.addEventListener('click', function() {
                // Reset everything
                originalPdfFile = null;
                processedPdfBlob = null;
                previewPlaceholder.style.display = 'block';
                pdfUpload.value = '';
                
                // Reset watermark controls
                watermarkText.value = 'CONFIDENTIAL';
                textColor.value = '#ff0000';
                textColorValue.value = '#FF0000';
                fontFamily.value = 'Arial';
                fontSize.value = 36;
                fontSizeValue.textContent = '36px';
                opacity.value = 50;
                opacityValue.textContent = '50%';
                position.value = 'center';
                compressionLevel.value = 80;
                compressionValue.textContent = '80%';
                
                // Reset type buttons
                document.querySelectorAll('.type-btn').forEach(b => b.classList.remove('active'));
                document.querySelector('[data-type="add"]').classList.add('active');
                updateControlsVisibility('add');
                
                processBtn.disabled = true;
                downloadBtn.disabled = true;
                
                // Reset stats
                originalSizeStat.textContent = '0 KB';
                compressedSizeStat.textContent = '0 KB';
                savingsStat.textContent = '0%';
                
                // Reset preview
                updateWatermarkPreview();
            });
            
            function loadPdf(file) {
                // Check if file is a PDF
                if (!file.type.includes('pdf')) {
                    alert('Please select a valid PDF file.');
                    return;
                }
                
                // Store file and size
                originalPdfFile = file;
                originalFileSize = file.size;
                const fileSizeKB = (originalFileSize / 1024).toFixed(2);
                originalSizeStat.textContent = `${fileSizeKB} KB`;
                
                // Show file info
                previewPlaceholder.innerHTML = `
                    <i class="fas fa-file-pdf" style="font-size: 3rem; color: var(--accent-blue); margin-bottom: 15px;"></i>
                    <h3>${file.name}</h3>
                    <p>Size: ${fileSizeKB} KB</p>
                    <p>Ready to process with watermark</p>
                `;
                
                // Enable process button
                processBtn.disabled = false;
            }
            
            function updateControlsVisibility(type) {
                // In a real app, this would show/hide appropriate controls
                // based on the selected watermark type (add/remove/text/image)
                
                if (type === 'remove') {
                    document.querySelectorAll('.watermark-controls .control-group').forEach(control => {
                        control.style.opacity = '0.5';
                        control.style.pointerEvents = 'none';
                    });
                    document.querySelector('.watermark-preview').style.display = 'none';
                } else {
                    document.querySelectorAll('.watermark-controls .control-group').forEach(control => {
                        control.style.opacity = '1';
                        control.style.pointerEvents = 'all';
                    });
                    document.querySelector('.watermark-preview').style.display = 'block';
                }
            }
            
            function updateWatermarkPreview() {
                // Update the watermark example with current settings
                watermarkExample.style.color = textColor.value;
                watermarkExample.style.fontFamily = fontFamily.value;
                watermarkExample.style.fontSize = `${fontSize.value}px`;
                watermarkExample.style.opacity = `${opacity.value / 100}`;
            }
            
            function processPdf() {
                if (!originalPdfFile) return;
                
                // Show processing state
                processBtn.disabled = true;
                processBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                processBtn.classList.add('processing');
                
                // Simulate processing time
                setTimeout(() => {
                    // In a real app, this would use a PDF library to add/remove watermarks
                    // For this demo, we'll simulate the process
                    
                    // Get compression level
                    const quality = compressionLevel.value / 100;
                    
                    // Simulate file processing and compression
                    const simulatedReduction = 0.7; // Simulate 30% reduction
                    const compressedSize = originalFileSize * simulatedReduction;
                    const compressedSizeKB = (compressedSize / 1024).toFixed(2);
                    compressedSizeStat.textContent = `${compressedSizeKB} KB`;
                    
                    // Calculate savings
                    const savings = (100 - (compressedSize / originalFileSize) * 100).toFixed(1);
                    savingsStat.textContent = `${savings}%`;
                    
                    // Create a blob for download (simulated)
                    processedPdfBlob = new Blob(['Simulated PDF content'], { type: 'application/pdf' });
                    
                    // Update preview
                    previewPlaceholder.innerHTML = `
                        <i class="fas fa-check-circle" style="font-size: 3rem; color: var(--accent-blue); margin-bottom: 15px;"></i>
                        <h3>PDF Processing Complete</h3>
                        <p>Your PDF has been successfully processed with the watermark</p>
                        <p>Final size: ${compressedSizeKB} KB (${savings}% reduction)</p>
                    `;
                    
                    // Enable download button
                    downloadBtn.disabled = false;
                    
                    // Reset process button
                    processBtn.disabled = false;
                    processBtn.innerHTML = '<i class="fas fa-cogs"></i> Process PDF';
                    processBtn.classList.remove('processing');
                }, 2000);
            }
            
            // Theme toggle functionality
            const themeToggle = document.querySelector('.theme-toggle');
            themeToggle.addEventListener('click', function() {
                const icon = this.querySelector('i');
                if (icon.classList.contains('fa-moon')) {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                    this.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
                    document.body.style.filter = 'invert(1) hue-rotate(180deg)';
                } else {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                    this.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
                    document.body.style.filter = 'none';
                }
            });
            
            // Initialize
            updateWatermarkPreview();
            updateControlsVisibility('add');
        });
    </script>
</body>
</html>
