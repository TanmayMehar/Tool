<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Cropper Pro - Crop Images to Required Sizes</title>
    <meta name="description" content="Free online tool to crop your images to exact dimensions. Custom aspect ratios, compression settings, and multiple format support.">
    <meta name="keywords" content="image cropper, crop images, image editor, photo cropper, online image tool">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-example"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-dark: #0a192f;
            --secondary-dark: #112240;
            --accent-blue: #64ffda;
            --accent-purple: #7b4fff;
            --text-primary: #e6f1ff;
            --text-secondary: #8892b0;
            --card-bg: #172a45;
            --slider-bg: #2d3f5a;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary-dark) 0%, #0d1b2a 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(10, 25, 47, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            border: 1px solid rgba(100, 255, 218, 0.1);
        }
        
        header {
            background: linear-gradient(to right, var(--secondary-dark), var(--primary-dark));
            color: var(--text-primary);
            padding: 30px;
            text-align: center;
            border-bottom: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
            color: var(--text-secondary);
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
            gap: 20px;
        }
        
        .tool-section {
            flex: 1 1 700px;
            padding: 25px;
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .ad-section {
            flex: 0 1 300px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .ad-unit {
            background: var(--secondary-dark);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            min-height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        .ad-unit p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .upload-container {
            border: 2px dashed var(--accent-purple);
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s;
            background: rgba(27, 42, 65, 0.5);
        }
        
        .upload-container:hover {
            background: rgba(39, 59, 89, 0.5);
            border-color: var(--accent-blue);
        }
        
        .upload-container i {
            font-size: 3rem;
            color: var(--accent-blue);
            margin-bottom: 15px;
        }
        
        .upload-btn {
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-blue));
            color: var(--primary-dark);
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s;
        }
        
        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(123, 79, 255, 0.4);
        }
        
        .crop-container {
            position: relative;
            margin: 20px 0;
            overflow: hidden;
            border-radius: 8px;
            display: none;
            max-width: 100%;
            background: var(--secondary-dark);
            min-height: 300px;
        }
        
        #imageToCrop {
            display: block;
            max-width: 100%;
        }
        
        .crop-box {
            position: absolute;
            border: 2px solid var(--accent-blue);
            background: rgba(100, 255, 218, 0.1);
            cursor: move;
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
        }
        
        .crop-handle {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--accent-blue);
            border-radius: 50%;
        }
        
        .handle-n { top: -6px; left: 50%; transform: translateX(-50%); cursor: n-resize; }
        .handle-s { bottom: -6px; left: 50%; transform: translateX(-50%); cursor: s-resize; }
        .handle-w { left: -6px; top: 50%; transform: translateY(-50%); cursor: w-resize; }
        .handle-e { right: -6px; top: 50%; transform: translateY(-50%); cursor: e-resize; }
        .handle-nw { top: -6px; left: -6px; cursor: nw-resize; }
        .handle-ne { top: -6px; right: -6px; cursor: ne-resize; }
        .handle-sw { bottom: -6px; left: -6px; cursor: sw-resize; }
        .handle-se { bottom: -6px; right: -6px; cursor: se-resize; }
        
        .controls {
            margin: 25px 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--accent-blue);
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        input[type="range"] {
            flex: 1;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 5px;
            background: var(--slider-bg);
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-blue);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-blue);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
            border: none;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            background: var(--slider-bg);
            color: var(--text-primary);
            border: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            background: var(--slider-bg);
            color: var(--text-primary);
            border: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        .dimension-inputs {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .dimension-inputs span {
            color: var(--text-secondary);
        }
        
        .compression-value {
            font-weight: 700;
            color: var(--accent-blue);
            min-width: 40px;
        }
        
        .ratio-lock {
            color: var(--accent-blue);
            font-size: 1.2rem;
            cursor: pointer;
            margin-left: 10px;
        }
        
        .aspect-ratio-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }
        
        .ratio-btn {
            padding: 8px 15px;
            background: var(--secondary-dark);
            color: var(--text-secondary);
            border: 1px solid rgba(100, 255, 218, 0.2);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .ratio-btn:hover {
            background: rgba(100, 255, 218, 0.1);
            color: var(--accent-blue);
        }
        
        .ratio-btn.active {
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-blue));
            color: var(--primary-dark);
            border-color: transparent;
        }
        
        .preview-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
        }
        
        .image-preview {
            flex: 1 1 300px;
            text-align: center;
        }
        
        .image-preview h3 {
            margin-bottom: 10px;
            color: var(--accent-blue);
        }
        
        .preview-img {
            max-width: 100%;
            max-height: 300px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            margin-bottom: 10px;
            border: 1px solid rgba(100, 255, 218, 0.2);
            object-fit: contain;
        }
        
        .file-info {
            background: var(--secondary-dark);
            padding: 10px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-blue));
            color: var(--primary-dark);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(123, 79, 255, 0.4);
        }
        
        .btn-outline {
            background: transparent;
            color: var(--accent-blue);
            border: 2px solid var(--accent-blue);
            background: rgba(100, 255, 218, 0.1);
        }
        
        .btn-outline:hover {
            background: rgba(100, 255, 218, 0.2);
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            background: var(--secondary-dark);
            color: var(--text-secondary);
            font-size: 0.9rem;
            border-top: 1px solid rgba(100, 255, 218, 0.1);
        }
        
        .seo-content {
            padding: 30px;
            background: var(--card-bg);
            margin: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .seo-content h2 {
            color: var(--accent-blue);
            margin-bottom: 20px;
        }
        
        .seo-content p {
            margin-bottom: 15px;
            color: var(--text-secondary);
        }
        
        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            border: 1px solid var(--accent-blue);
            color: var(--accent-blue);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .ad-section {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .ad-unit {
                flex: 1 1 200px;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            header p {
                font-size: 1rem;
            }
            
            .theme-toggle {
                position: relative;
                top: 0;
                right: 0;
                margin: 0 auto 20px;
                width: fit-content;
            }
            
            .dimension-inputs {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .action-buttons {
                flex-direction: column;
            }
            
            .preview-container {
                flex-direction: column;
            }
            
            .upload-container {
                padding: 20px 10px;
            }
        }
        
        /* Animation for processing */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .processing {
            animation: pulse 1.5s infinite;
        }
        
        /* Progress bar */
        .progress-container {
            width: 100%;
            height: 8px;
            background: var(--slider-bg);
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
            display: none;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue));
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        /* Format badges */
        .format-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            background: rgba(123, 79, 255, 0.2);
            color: var(--accent-purple);
            font-size: 0.8rem;
            margin: 5px;
        }
        
        .size-comparison {
            display: flex;
            justify-content: space-around;
            background: var(--secondary-dark);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .size-item {
            text-align: center;
            flex: 1;
        }
        
        .size-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-blue);
        }
        
        .size-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .savings {
            color: #4ade80;
        }
        
        .crop-info {
            background: var(--secondary-dark);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .info-item {
            text-align: center;
            flex: 1;
            min-width: 120px;
            margin: 5px 0;
        }
        
        .info-value {
            font-weight: bold;
            color: var(--accent-blue);
        }
        
        .info-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .crop-guides {
            position: absolute;
            pointer-events: none;
        }
        
        .guide-line {
            position: absolute;
            background: rgba(100, 255, 218, 0.3);
        }
        
        .guide-h {
            height: 1px;
            width: 100%;
        }
        
        .guide-v {
            width: 1px;
            height: 100%;
        }
    </style>
</head>
<body>
    <button class="theme-toggle">
        <i class="fas fa-moon"></i> Dark Mode
    </button>
<!-- Tailwind CDN (अगर पहले से नहीं है तो ये add कर लेना <head> में) -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Navbar Start -->
<nav class="w-full bg-[#0b1526] px-6 py-4 flex items-center justify-between shadow-md">
  <!-- Logo -->
  <a href="/Tool/index.html" class="flex items-center space-x-2">
    <div class="w-6 h-6 bg-gradient-to-r from-green-400 to-teal-500 rounded-full"></div>
    <span class="text-xl font-bold text-teal-300">ToolKit</span>
  </a>

  <!-- Desktop Menu -->
  <ul class="hidden md:flex space-x-8 font-medium text-white">
    <li><a href="#" class="hover:text-teal-400 transition">Home</a></li>
    <li><a href="#" class="hover:text-teal-400 transition">Image Tools</a></li>
    <li><a href="#" class="hover:text-teal-400 transition">PDF Tools</a></li>
    <li><a href="#" class="hover:text-teal-400 transition">Pricing</a></li>
    <li><a href="#" class="hover:text-teal-400 transition">About</a></li>
  </ul>

  <!-- Buttons (Desktop) -->
  <div class="hidden md:flex space-x-4">
    <button class="px-4 py-2 rounded-lg bg-gradient-to-r from-green-400 to-teal-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Login</button>
    <button class="px-4 py-2 rounded-lg bg-gradient-to-r from-purple-400 to-blue-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Sign Up</button>
  </div>

  <!-- Mobile Hamburger -->
  <div class="md:hidden">
    <button id="menu-btn" class="focus:outline-none">
      <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" stroke-width="2"
           viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
  </div>
</nav>

<!-- Mobile Menu -->
<div id="menu" class="hidden md:hidden flex flex-col bg-[#0b1526] px-6 py-4 space-y-4 text-white transition-all duration-300 ease-in-out">
  <a href="#" class="block hover:text-teal-400 transition">Home</a>
  <a href="#" class="block hover:text-teal-400 transition">Image Tools</a>
  <a href="#" class="block hover:text-teal-400 transition">PDF Tools</a>
  <a href="#" class="block hover:text-teal-400 transition">Pricing</a>
  <a href="#" class="block hover:text-teal-400 transition">About</a>
  <button class="w-full px-4 py-2 rounded-lg bg-gradient-to-r from-green-400 to-teal-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Login</button>
  <button class="w-full px-4 py-2 rounded-lg bg-gradient-to-r from-purple-400 to-blue-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Sign Up</button>
</div>
<!-- Navbar End -->

<!-- Script -->
<script>
  const btn = document.getElementById('menu-btn');
  const menu = document.getElementById('menu');

  btn.addEventListener('click', () => {
    menu.classList.toggle('hidden');
  });
</script>

    <div class="container">
        <header>
            <h1>Image Cropper Pro</h1>
            <p>Crop your images to exact dimensions with precision</p>
        </header>
        
        <div class="main-content">
            <section class="tool-section">
                <div class="upload-container">
                    <i class="fas fa-crop-alt"></i>
                    <h2>Upload Your Image</h2>
                    <p>Supported formats: <span class="format-badge">JPG</span> <span class="format-badge">PNG</span> <span class="format-badge">WebP</span> <span class="format-badge">BMP</span></p>
                    <input type="file" id="imageUpload" accept="image/*" hidden>
                    <button class="upload-btn" id="uploadTrigger"><i class="fas fa-upload"></i> Select Image</button>
                </div>
                
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                
                <div class="crop-container" id="cropContainer">
                    <img id="imageToCrop" src="" alt="Image to crop">
                    <div class="crop-box" id="cropBox">
                        <div class="crop-handle handle-n"></div>
                        <div class="crop-handle handle-s"></div>
                        <div class="crop-handle handle-w"></div>
                        <div class="crop-handle handle-e"></div>
                        <div class="crop-handle handle-nw"></div>
                        <div class="crop-handle handle-ne"></div>
                        <div class="crop-handle handle-sw"></div>
                        <div class="crop-handle handle-se"></div>
                    </div>
                </div>
                
                <div class="crop-info">
                    <div class="info-item">
                        <div class="info-value" id="cropWidth">0px</div>
                        <div class="info-label">Width</div>
                    </div>
                    <div class="info-item">
                        <div class="info-value" id="cropHeight">0px</div>
                        <div class="info-label">Height</div>
                    </div>
                    <div class="info-item">
                        <div class="info-value" id="cropX">0px</div>
                        <div class="info-label">X Position</div>
                    </div>
                    <div class="info-item">
                        <div class="info-value" id="cropY">0px</div>
                        <div class="info-label">Y Position</div>
                    </div>
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="outputFormat">Output Format</label>
                        <select id="outputFormat">
                            <option value="jpeg">JPEG (.jpg)</option>
                            <option value="png">PNG (.png)</option>
                            <option value="webp">WebP (.webp)</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label for="compressionLevel">Quality Level</label>
                        <div class="slider-container">
                            <input type="range" id="compressionLevel" min="0" max="100" value="85">
                            <span class="compression-value" id="compressionValue">85%</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 5px;">
                            <small>Smaller Size</small>
                            <small>Better Quality</small>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label>Aspect Ratio</label>
                        <div class="aspect-ratio-buttons">
                            <button class="ratio-btn active" data-ratio="free">Free</button>
                            <button class="ratio-btn" data-ratio="1:1">1:1</button>
                            <button class="ratio-btn" data-ratio="4:3">4:3</button>
                            <button class="ratio-btn" data-ratio="16:9">16:9</button>
                            <button class="ratio-btn" data-ratio="9:16">9:16</button>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label for="width">Custom Dimensions (px)</label>
                        <div class="dimension-inputs">
                            <input type="number" id="width" placeholder="Width" min="1">
                            <span>×</span>
                            <input type="number" id="height" placeholder="Height" min="1">
                            <i class="fas fa-link ratio-lock" id="ratioLock"></i>
                        </div>
                    </div>
                </div>
                
                <div class="size-comparison">
                    <div class="size-item">
                        <div class="size-value" id="originalSize">0 KB</div>
                        <div class="size-label">Original Size</div>
                    </div>
                    <div class="size-item">
                        <div class="size-value" id="croppedSize">0 KB</div>
                        <div class="size-label">Cropped Size</div>
                    </div>
                    <div class="size-item">
                        <div class="size-value savings" id="sizeReduction">0%</div>
                        <div class="size-label">Reduction</div>
                    </div>
                </div>
                
                <div class="preview-container">
                    <div class="image-preview">
                        <h3>Original Image</h3>
                        <div id="originalPreview"></div>
                        <div class="file-info" id="originalInfo">No image selected</div>
                    </div>
                    
                    <div class="image-preview">
                        <h3>Cropped Image</h3>
                        <div id="croppedPreview"></div>
                        <div class="file-info" id="croppedInfo">No image available</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" id="cropBtn" disabled><i class="fas fa-crop-alt"></i> Crop Image</button>
                    <button class="btn btn-outline" id="downloadBtn" disabled><i class="fas fa-download"></i> Download</button>
                    <button class="btn btn-outline" id="resetBtn"><i class="fas fa-redo"></i> Reset</button>
                </div>
            </section>
            
            <section class="ad-section">
                <div class="ad-unit">
                    <!-- Google AdSense Ad Unit -->
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-example"
                         data-ad-slot="1234567890"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
                
                <div class="ad-unit">
                    <!-- Google AdSense Ad Unit -->
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-example"
                         data-ad-slot="0987654321"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
            </section>
        </div>
        
        <section class="seo-content">
            <h2>Why Crop Images?</h2>
            <p>Image cropping is an essential editing technique that allows you to remove unwanted parts of an image, focus on the main subject, or change the aspect ratio for different platforms. Whether you're preparing images for social media, websites, or print, cropping helps you create more impactful and professional-looking visuals.</p>
            
            <p>Our image cropper tool provides precise control over your cropping with various aspect ratio options, custom dimensions, and quality settings. The tool works entirely in your browser, ensuring your images remain private and secure.</p>
            
            <p>Common use cases for image cropping include:</p>
            <ul style="color: var(--text-secondary); margin-left: 20px; margin-bottom: 15px;">
                <li>Creating profile pictures for social media</li>
                <li>Preparing images for website banners</li>
                <li>Removing distracting elements from photos</li>
                <li>Changing image orientation or aspect ratio</li>
                <li>Focusing on the main subject of a photo</li>
            </ul>
            
            <p>With our tool, you can maintain aspect ratio, set custom dimensions, and adjust quality settings to find the perfect balance between size and visual fidelity.</p>
        </section>
        
        <footer>
            <p>&copy; 2023 Image Cropper Pro | All Rights Reserved</p>
            <p>This tool processes your images entirely in your browser - no uploads to servers required!</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const uploadTrigger = document.getElementById('uploadTrigger');
            const imageUpload = document.getElementById('imageUpload');
            const cropContainer = document.getElementById('cropContainer');
            const imageToCrop = document.getElementById('imageToCrop');
            const cropBox = document.getElementById('cropBox');
            const outputFormat = document.getElementById('outputFormat');
            const compressionLevel = document.getElementById('compressionLevel');
            const compressionValue = document.getElementById('compressionValue');
            const widthInput = document.getElementById('width');
            const heightInput = document.getElementById('height');
            const ratioLock = document.getElementById('ratioLock');
            const ratioButtons = document.querySelectorAll('.ratio-btn');
            const cropBtn = document.getElementById('cropBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const resetBtn = document.getElementById('resetBtn');
            const progressContainer = document.getElementById('progressContainer');
            const progressBar = document.getElementById('progressBar');
            const originalPreview = document.getElementById('originalPreview');
            const croppedPreview = document.getElementById('croppedPreview');
            const originalInfo = document.getElementById('originalInfo');
            const croppedInfo = document.getElementById('croppedInfo');
            const originalSize = document.getElementById('originalSize');
            const croppedSize = document.getElementById('croppedSize');
            const sizeReduction = document.getElementById('sizeReduction');
            const cropWidth = document.getElementById('cropWidth');
            const cropHeight = document.getElementById('cropHeight');
            const cropX = document.getElementById('cropX');
            const cropY = document.getElementById('cropY');
            
            let originalImage = null;
            let croppedImageBlob = null;
            let aspectRatio = 0;
            let isRatioLocked = true;
            let currentAspectRatio = 'free';
            let isDragging = false;
            let dragHandle = null;
            let startX, startY;
            let startCropX, startCropY, startCropWidth, startCropHeight;
            
            // Event listeners
            uploadTrigger.addEventListener('click', () => imageUpload.click());
            
            imageUpload.addEventListener('change', function(e) {
                if (this.files && this.files[0]) {
                    const file = this.files[0];
                    
                    // Check if file is an image
                    if (!file.type.match('image.*')) {
                        alert('Please select a valid image file.');
                        return;
                    }
                    
                    // Check file size (max 20MB)
                    if (file.size > 20 * 1024 * 1024) {
                        alert('File size exceeds the maximum limit of 20MB.');
                        return;
                    }
                    
                    // Display original image
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        originalImage = new Image();
                        originalImage.onload = function() {
                            // Clear previous previews
                            originalPreview.innerHTML = '';
                            croppedPreview.innerHTML = '';
                            
                            // Create and append image element
                            const imgElement = document.createElement('img');
                            imgElement.src = event.target.result;
                            imgElement.classList.add('preview-img');
                            originalPreview.appendChild(imgElement);
                            
                            // Update file info
                            const fileSize = (file.size / 1024).toFixed(2);
                            originalInfo.textContent = `Size: ${fileSize} KB | Dimensions: ${originalImage.width}×${originalImage.height}px`;
                            originalSize.textContent = `${fileSize} KB`;
                            
                            // Set up cropping
                            imageToCrop.src = event.target.result;
                            cropContainer.style.display = 'block';
                            
                            // Initialize crop box (50% of original size, centered)
                            const cropSize = Math.min(originalImage.width, originalImage.height) * 0.5;
                            const cropX = (originalImage.width - cropSize) / 2;
                            const cropY = (originalImage.height - cropSize) / 2;
                            
                            updateCropBox(cropX, cropY, cropSize, cropSize);
                            
                            // Set aspect ratio
                            aspectRatio = originalImage.width / originalImage.height;
                            
                            // Set default dimensions
                            widthInput.value = Math.round(cropSize);
                            heightInput.value = Math.round(cropSize);
                            
                            // Enable crop button
                            cropBtn.disabled = false;
                            
                            // Reset cropped file info
                            croppedInfo.textContent = 'Crop and click Apply';
                            croppedSize.textContent = '0 KB';
                            sizeReduction.textContent = '0%';
                            downloadBtn.disabled = true;
                        };
                        originalImage.src = event.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            compressionLevel.addEventListener('input', function() {
                compressionValue.textContent = `${this.value}%`;
            });
            
            widthInput.addEventListener('input', function() {
                if (isRatioLocked && aspectRatio && originalImage) {
                    heightInput.value = Math.round(this.value / aspectRatio);
                }
                updateCropBoxFromInputs();
            });
            
            heightInput.addEventListener('input', function() {
                if (isRatioLocked && aspectRatio && originalImage) {
                    widthInput.value = Math.round(this.value * aspectRatio);
                }
                updateCropBoxFromInputs();
            });
            
            ratioLock.addEventListener('click', function() {
                isRatioLocked = !isRatioLocked;
                this.classList.toggle('fa-link');
                this.classList.toggle('fa-unlink');
            });
            
            // Aspect ratio button handlers
            ratioButtons.forEach(button => {
                button.addEventListener('click', function() {
                    ratioButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    currentAspectRatio = this.dataset.ratio;
                    
                    if (currentAspectRatio !== 'free') {
                        const [widthRatio, heightRatio] = currentAspectRatio.split(':').map(Number);
                        aspectRatio = widthRatio / heightRatio;
                        isRatioLocked = true;
                        ratioLock.classList.add('fa-link');
                        ratioLock.classList.remove('fa-unlink');
                        
                        // Update crop box to maintain aspect ratio
                        const currentWidth = parseInt(cropBox.style.width);
                        const newHeight = Math.round(currentWidth / aspectRatio);
                        updateCropBox(
                            parseInt(cropBox.style.left),
                            parseInt(cropBox.style.top),
                            currentWidth,
                            newHeight
                        );
                    } else {
                        isRatioLocked = false;
                        ratioLock.classList.remove('fa-link');
                        ratioLock.classList.add('fa-unlink');
                    }
                });
            });
            
            // Set up crop box dragging
            cropBox.addEventListener('mousedown', startDrag);
            document.querySelectorAll('.crop-handle').forEach(handle => {
                handle.addEventListener('mousedown', function(e) {
                    e.stopPropagation();
                    startResize(e);
                });
            });
            
            document.addEventListener('mousemove', function(e) {
                if (isDragging) {
                    if (dragHandle) {
                        continueResize(e);
                    } else {
                        continueDrag(e);
                    }
                }
            });
            
            document.addEventListener('mouseup', function() {
                isDragging = false;
                dragHandle = null;
            });
            
            cropBtn.addEventListener('click', function() {
                if (!originalImage) return;
                
                // Show loading state
                cropBtn.disabled = true;
                cropBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Cropping...';
                progressContainer.style.display = 'block';
                
                // Simulate cropping process with progress
                let progress = 0;
                const interval = setInterval(() => {
                    progress += 5;
                    progressBar.style.width = `${progress}%`;
                    
                    if (progress >= 100) {
                        clearInterval(interval);
                        finishCropping();
                    }
                }, 100);
            });
            
            downloadBtn.addEventListener('click', function() {
                if (!croppedImageBlob) return;
                
                const format = outputFormat.value;
                const downloadLink = document.createElement('a');
                downloadLink.href = URL.createObjectURL(croppedImageBlob);
                downloadLink.download = `cropped-image.${format}`;
                document.body.appendChild(downloadLink);
                downloadLink.click();
                document.body.removeChild(downloadLink);
            });
            
            resetBtn.addEventListener('click', function() {
                // Reset everything
                originalImage = null;
                croppedImageBlob = null;
                imageUpload.value = '';
                cropContainer.style.display = 'none';
                compressionLevel.value = 85;
                compressionValue.textContent = '85%';
                widthInput.value = '';
                heightInput.value = '';
                cropBtn.disabled = true;
                cropBtn.innerHTML = '<i class="fas fa-crop-alt"></i> Crop Image';
                downloadBtn.disabled = true;
                progressContainer.style.display = 'none';
                progressBar.style.width = '0%';
                isRatioLocked = true;
                ratioLock.classList.add('fa-link');
                ratioLock.classList.remove('fa-unlink');
                currentAspectRatio = 'free';
                ratioButtons.forEach(btn => btn.classList.remove('active'));
                ratioButtons[0].classList.add('active');
                
                // Reset file info
                originalPreview.innerHTML = '';
                croppedPreview.innerHTML = '';
                originalInfo.textContent = 'No image selected';
                croppedInfo.textContent = 'No image available';
                originalSize.textContent = '0 KB';
                croppedSize.textContent = '0 KB';
                sizeReduction.textContent = '0%';
                
                // Reset crop info
                cropWidth.textContent = '0px';
                cropHeight.textContent = '0px';
                cropX.textContent = '0px';
                cropY.textContent = '0px';
            });
            
            function updateCropBox(x, y, width, height) {
                // Constrain to image boundaries
                x = Math.max(0, Math.min(x, originalImage.width - width));
                y = Math.max(0, Math.min(y, originalImage.height - height));
                width = Math.max(50, Math.min(width, originalImage.width - x));
                height = Math.max(50, Math.min(height, originalImage.height - y));
                
                // Maintain aspect ratio if locked
                if (isRatioLocked && currentAspectRatio !== 'free') {
                    height = Math.round(width / aspectRatio);
                    
                    // Check if new height exceeds boundaries
                    if (y + height > originalImage.height) {
                        height = originalImage.height - y;
                        width = Math.round(height * aspectRatio);
                    }
                }
                
                // Update crop box style
                cropBox.style.left = x + 'px';
                cropBox.style.top = y + 'px';
                cropBox.style.width = width + 'px';
                cropBox.style.height = height + 'px';
                
                // Update input fields
                widthInput.value = Math.round(width);
                heightInput.value = Math.round(height);
                
                // Update crop info display
                cropWidth.textContent = Math.round(width) + 'px';
                cropHeight.textContent = Math.round(height) + 'px';
                cropX.textContent = Math.round(x) + 'px';
                cropY.textContent = Math.round(y) + 'px';
            }
            
            function updateCropBoxFromInputs() {
                const width = parseInt(widthInput.value) || 100;
                const height = parseInt(heightInput.value) || 100;
                const x = parseInt(cropBox.style.left) || 0;
                const y = parseInt(cropBox.style.top) || 0;
                
                updateCropBox(x, y, width, height);
            }
            
            function startDrag(e) {
                e.preventDefault();
                isDragging = true;
                startX = e.clientX;
                startY = e.clientY;
                startCropX = parseInt(cropBox.style.left);
                startCropY = parseInt(cropBox.style.top);
            }
            
            function continueDrag(e) {
                if (!isDragging) return;
                
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                
                updateCropBox(
                    startCropX + dx,
                    startCropY + dy,
                    parseInt(cropBox.style.width),
                    parseInt(cropBox.style.height)
                );
            }
            
            function startResize(e) {
                isDragging = true;
                dragHandle = e.target.classList[1];
                startX = e.clientX;
                startY = e.clientY;
                startCropX = parseInt(cropBox.style.left);
                startCropY = parseInt(cropBox.style.top);
                startCropWidth = parseInt(cropBox.style.width);
                startCropHeight = parseInt(cropBox.style.height);
            }
            
            function continueResize(e) {
                if (!isDragging || !dragHandle) return;
                
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                
                let x = startCropX;
                let y = startCropY;
                let width = startCropWidth;
                let height = startCropHeight;
                
                // Handle different resize handles
                if (dragHandle.includes('e')) {
                    width = startCropWidth + dx;
                }
                if (dragHandle.includes('w')) {
                    width = startCropWidth - dx;
                    x = startCropX + dx;
                }
                if (dragHandle.includes('s')) {
                    height = startCropHeight + dy;
                }
                if (dragHandle.includes('n')) {
                    height = startCropHeight - dy;
                    y = startCropY + dy;
                }
                
                updateCropBox(x, y, width, height);
            }
            
            function finishCropping() {
                // Create canvas for cropping
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                // Set canvas dimensions to crop size
                const cropWidth = parseInt(cropBox.style.width);
                const cropHeight = parseInt(cropBox.style.height);
                canvas.width = cropWidth;
                canvas.height = cropHeight;
                
                // Draw cropped portion
                const cropX = parseInt(cropBox.style.left);
                const cropY = parseInt(cropBox.style.top);
                
                ctx.drawImage(
                    originalImage,
                    cropX, cropY, cropWidth, cropHeight,
                    0, 0, cropWidth, cropHeight
                );
                
                // Get quality level
                const quality = compressionLevel.value / 100;
                const format = outputFormat.value;
                
                // Convert canvas to blob with selected format and quality
                canvas.toBlob(function(blob) {
                    // Create and display cropped image
                    const croppedUrl = URL.createObjectURL(blob);
                    croppedImageBlob = blob;
                    
                    const imgElement = document.createElement('img');
                    imgElement.src = croppedUrl;
                    imgElement.classList.add('preview-img');
                    croppedPreview.innerHTML = '';
                    croppedPreview.appendChild(imgElement);
                    
                    // Update file info
                    const fileSize = (blob.size / 1024).toFixed(2);
                    croppedInfo.textContent = `Size: ${fileSize} KB | Dimensions: ${cropWidth}×${cropHeight}px`;
                    croppedSize.textContent = `${fileSize} KB`;
                    
                    // Calculate savings
                    const originalFileSize = originalImage.src.length * 0.75; // Approximate original size in bytes
                    const reduction = (100 - (blob.size / originalFileSize) * 100).toFixed(1);
                    sizeReduction.textContent = `${reduction}%`;
                    
                    // Enable download button
                    downloadBtn.disabled = false;
                    
                    // Reset crop button
                    cropBtn.disabled = false;
                    cropBtn.innerHTML = '<i class="fas fa-crop-alt"></i> Crop Image';
                    progressContainer.style.display = 'none';
                }, `image/${outputFormat.value}`, quality);
            }
            
            // Theme toggle functionality
            const themeToggle = document.querySelector('.theme-toggle');
            themeToggle.addEventListener('click', function() {
                const icon = this.querySelector('i');
                if (icon.classList.contains('fa-moon')) {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                    this.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
                    document.body.style.filter = 'invert(1) hue-rotate(180deg)';
                } else {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                    this.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
                    document.body.style.filter = 'none';
                }
            });
        });
    </script>
</body>
</html>
