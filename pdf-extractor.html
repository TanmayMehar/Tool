<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDFExtract Pro - Extract Specific Pages from PDF Files</title>
    <meta name="description" content="Free online PDF page extractor tool. Extract specific pages from PDF files, optimize file size, and download selected pages. No registration required.">
    <meta name="keywords" content="PDF extractor, extract PDF pages, PDF tool, PDF optimization, online PDF tool">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-dark: #0a192f;
            --secondary-dark: #112240;
            --accent-blue: #64ffda;
            --accent-purple: #7b4fff;
            --text-primary: #e6f1ff;
            --text-secondary: #8892b0;
            --card-bg: #172a45;
            --slider-bg: #2d3f5a;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary-dark) 0%, #0d1b2a 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(10, 25, 47, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            border: 1px solid rgba(100, 255, 218, 0.1);
        }
        
        header {
            background: linear-gradient(to right, var(--secondary-dark), var(--primary-dark));
            color: var(--text-primary);
            padding: 30px;
            text-align: center;
            border-bottom: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
            color: var(--text-secondary);
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
            gap: 20px;
        }
        
        .tool-section {
            flex: 1 1 700px;
            padding: 25px;
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .ad-section {
            flex: 0 1 300px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .ad-unit {
            background: var(--secondary-dark);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(100, 255, 218, 0.2);
            overflow: hidden;
        }
        
        .ad-unit.horizontal {
            min-height: 90px;
            width: 100%;
        }
        
        .ad-unit.vertical {
            min-height: 250px;
            width: 100%;
        }
        
        .ad-unit.square {
            min-height: 250px;
            width: 100%;
        }
        
        .upload-container {
            border: 2px dashed var(--accent-purple);
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s;
            background: rgba(27, 42, 65, 0.5);
        }
        
        .upload-container:hover {
            background: rgba(39, 59, 89, 0.5);
            border-color: var(--accent-blue);
        }
        
        .upload-container i {
            font-size: 3rem;
            color: var(--accent-blue);
            margin-bottom: 15px;
        }
        
        .upload-btn {
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-blue));
            color: var(--primary-dark);
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s;
        }
        
        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(123, 79, 255, 0.4);
        }
        
        .extraction-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--accent-blue);
        }
        
        .control-group input, .control-group select {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid var(--slider-bg);
            background: var(--secondary-dark);
            color: var(--text-primary);
            font-size: 1rem;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        input[type="range"] {
            flex: 1;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 5px;
            background: var(--slider-bg);
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-blue);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-blue);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
            border: none;
        }
        
        .value-display {
            font-weight: 700;
            color: var(--accent-blue);
            min-width: 40px;
        }
        
        .page-previews {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 30px 0;
            justify-content: center;
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
            background: var(--secondary-dark);
            border-radius: 10px;
        }
        
        .page-thumbnail {
            position: relative;
            width: 120px;
            height: 160px;
            border: 2px solid transparent;
            border-radius: 5px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .page-thumbnail:hover {
            transform: translateY(-5px);
            border-color: var(--accent-blue);
        }
        
        .page-thumbnail.selected {
            border-color: var(--accent-purple);
            box-shadow: 0 0 15px rgba(123, 79, 255, 0.5);
        }
        
        .page-thumbnail canvas {
            width: 100%;
            height: 100%;
            object-fit: cover;
            background: white;
        }
        
        .page-number {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            text-align: center;
            padding: 3px;
            font-size: 0.8rem;
        }
        
        .selection-info {
            background: var(--secondary-dark);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-blue));
            color: var(--primary-dark);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(123, 79, 255, 0.4);
        }
        
        .btn-outline {
            background: transparent;
            color: var(--accent-blue);
            border: 2px solid var(--accent-blue);
        }
        
        .btn-outline:hover {
            background: rgba(100, 255, 218, 0.1);
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            background: var(--secondary-dark);
            color: var(--text-secondary);
            font-size: 0.9rem;
            border-top: 1px solid rgba(100, 255, 218, 0.1);
        }
        
        .seo-content {
            padding: 30px;
            background: var(--card-bg);
            margin: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .seo-content h2 {
            color: var(--accent-blue);
            margin-bottom: 20px;
        }
        
        .seo-content p {
            margin-bottom: 15px;
            color: var(--text-secondary);
        }
        
        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            border: 1px solid var(--accent-blue);
            color: var(--accent-blue);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .ad-section {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .ad-unit {
                flex: 1 1 200px;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            header p {
                font-size: 1rem;
            }
            
            .theme-toggle {
                position: relative;
                top: 0;
                right: 0;
                margin: 0 auto 20px;
                width: fit-content;
            }
            
            .extraction-controls {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .action-buttons {
                flex-direction: column;
            }
            
            .upload-container {
                padding: 20px 10px;
            }
            
            .page-thumbnail {
                width: 100px;
                height: 140px;
            }
        }
        
        /* Animation for processing */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .processing {
            animation: pulse 1.5s infinite;
        }
        
        /* Stats display */
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            background: var(--secondary-dark);
            padding: 15px;
            border-radius: 10px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            text-align: center;
            flex: 1;
            min-width: 120px;
            margin: 5px;
        }
        
        .stat-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--accent-blue);
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        /* Range selection styles */
        .range-inputs {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .range-inputs span {
            color: var(--text-secondary);
        }
        
        /* Checkbox styles */
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin: 0;
        }
    </style>
</head>
<body>
    <button class="theme-toggle">
        <i class="fas fa-moon"></i> Dark Mode
    </button>

    <div class="container">
        <!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Navbar Start -->
<nav class="w-full bg-[#0b1526] px-6 py-4 flex items-center justify-between shadow-md">
  <!-- Logo -->
  <a href="/Tool/index.html" class="flex items-center space-x-2">
    <div class="w-6 h-6 bg-gradient-to-r from-green-400 to-teal-500 rounded-full"></div>
    <span class="text-xl font-bold text-teal-300">ToolKit</span>
  </a>

  <!-- Desktop Menu -->
  <ul class="hidden md:flex space-x-8 font-medium text-white">
    <li><a href="/Tool/index.html" class="hover:text-teal-400 transition">Home</a></li>
    <li><a href="/Tool/about.html" class="hover:text-teal-400 transition">About</a></li>
    <li><a href="/Tool/contect.html" class="hover:text-teal-400 transition">Contact Us</a></li>
    <li><a href="/Tool/privacy.html" class="hover:text-teal-400 transition">Privacy Policy</a></li>
    <li><a href="/Tool/term.html" class="hover:text-teal-400 transition">Terms & Conditions</a></li>
    <li><a href="/Tool/desclaimar.html" class="hover:text-teal-400 transition">Disclaimer</a></li>
  </ul>

  <!-- Buttons (Desktop) -->
  <div class="hidden md:flex space-x-4">
    <button class="px-4 py-2 rounded-lg bg-gradient-to-r from-green-400 to-teal-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Login</button>
    <button class="px-4 py-2 rounded-lg bg-gradient-to-r from-purple-400 to-blue-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Sign Up</button>
  </div>

  <!-- Mobile Hamburger -->
  <div class="md:hidden">
    <button id="menu-btn" class="focus:outline-none">
      <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" stroke-width="2"
           viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
  </div>
</nav>

<!-- Mobile Menu -->
<div id="menu" class="hidden md:hidden flex flex-col bg-[#0b1526] px-6 py-4 space-y-4 text-white transition-all duration-300 ease-in-out">
  <a href="/Tool/index.html" class="block hover:text-teal-400 transition">Home</a>
  <a href="/Tool/about.html" class="block hover:text-teal-400 transition">About</a>
  <a href="/Tool/contect.html" class="block hover:text-teal-400 transition">Contact Us</a>
  <a href="/Tool/privacy.html" class="block hover:text-teal-400 transition">Privacy Policy</a>
  <a href="/Tool/term.html" class="block hover:text-teal-400 transition">Terms & Conditions</a>
  <a href="/Tool/desclaimar.html" class="block hover:text-teal-400 transition">Disclaimer</a>
  
  <button class="w-full px-4 py-2 rounded-lg bg-gradient-to-r from-green-400 to-teal-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Login</button>
  <button class="w-full px-4 py-2 rounded-lg bg-gradient-to-r from-purple-400 to-blue-500 text-sm font-semibold text-white shadow-md hover:opacity-90 transition">Sign Up</button>
</div>
<!-- Navbar End -->
 <div class="ad-unit horizontal">
                    <!-- Adsterra Leaderboard Banner -->
                    <script type="text/javascript">
                        atOptions = {
                            'key' : 'dfb13df8c68bb9b06c88d4a4fde08313',
                            'format' : 'iframe',
                            'height' : 90,
                            'width' : 728,
                            'params' : {}
                        };
                    </script>
                    <script type="text/javascript" src="//www.highperformanceformat.com/dfb13df8c68bb9b06c88d4a4fde08313/invoke.js"></script>
                </div>
<!-- Script -->
<script>
  const btn = document.getElementById('menu-btn');
  const menu = document.getElementById('menu');

  btn.addEventListener('click', () => {
    menu.classList.toggle('hidden');
  });
</script>

        <header>
            <h1>PDFExtract Pro</h1>
            <p>Extract specific pages from PDF files with precision</p>
        </header>
        
        <div class="main-content">
            <section class="tool-section">
                <div class="upload-container">
                    <i class="fas fa-file-pdf"></i>
                    <h2>Upload Your PDF File</h2>
                    <p>Extract specific pages and optimize your PDF</p>
                    <input type="file" id="pdfUpload" accept=".pdf" hidden>
                    <button class="upload-btn" id="uploadTrigger"><i class="fas fa-upload"></i> Select PDF</button>
                </div>
                
                <div class="extraction-controls">
                    <div class="control-group">
                        <label for="extractionMode">Extraction Mode</label>
                        <select id="extractionMode">
                            <option value="range">Page Range</option>
                            <option value="individual">Individual Pages</option>
                            <option value="odd">Odd Pages Only</option>
                            <option value="even">Even Pages Only</option>
                        </select>
                    </div>
                    
                    <div class="control-group" id="rangeGroup">
                        <label for="pageRange">Page Range</label>
                        <div class="range-inputs">
                            <input type="number" id="startPage" min="1" value="1" placeholder="Start">
                            <span>to</span>
                            <input type="number" id="endPage" min="1" value="1" placeholder="End">
                        </div>
                    </div>
                    
                    <div class="control-group" id="individualGroup" style="display: none;">
                        <label for="pageNumbers">Page Numbers (comma separated)</label>
                        <input type="text" id="pageNumbers" placeholder="e.g., 1,3,5-8,12">
                    </div>
                    
                    <div class="control-group">
                        <label for="compressionLevel">Compression Level</label>
                        <div class="slider-container">
                            <input type="range" id="compressionLevel" min="0" max="100" value="80">
                            <span class="value-display" id="compressionValue">80%</span>
                        </div>
                    </div>
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="optimizeImages">
                    <label for="optimizeImages">Optimize images in PDF</label>
                </div>
                
                <div class="selection-info" id="selectionInfo">
                    No PDF uploaded yet. Please select a file to begin.
                </div>
                
                <div class="page-previews" id="pagePreviews">
                    <!-- Page thumbnails will be inserted here -->
                </div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="originalSizeStat">0 KB</div>
                        <div class="stat-label">Original Size</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="extractedSizeStat">0 KB</div>
                        <div class="stat-label">Extracted Size</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="savingsStat">0%</div>
                        <div class="stat-label">Size Reduction</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" id="extractBtn" disabled><i class="fas fa-cut"></i> Extract Pages</button>
                    <button class="btn btn-outline" id="downloadBtn" disabled><i class="fas fa-download"></i> Download</button>
                    <button class="btn btn-outline" id="resetBtn"><i class="fas fa-redo"></i> Reset</button>
                </div>
            </section>
            
            <section class="ad-section">
                <div class="ad-unit horizontal">
                    <!-- Adsterra Leaderboard Banner -->
                    <script type="text/javascript">
                        atOptions = {
                            'key' : 'dfb13df8c68bb9b06c88d4a4fde08313',
                            'format' : 'iframe',
                            'height' : 90,
                            'width' : 728,
                            'params' : {}
                        };
                    </script>
                    <script type="text/javascript" src="//www.highperformanceformat.com/dfb13df8c68bb9b06c88d4a4fde08313/invoke.js"></script>
                </div>
                
                <div class="ad-unit vertical">
                    <!-- Adsterra Native Banner (Vertical) -->
                    <script async="async" data-cfasync="false" src="//pl27598289.revenuecpmgate.com/66ab86a52b5de6c71875567f09387ce0/invoke.js"></script>
                    <div id="container-66ab86a52b5de6c71875567f09387ce0"></div>
                </div>
                
                <div class="ad-unit square">
                    <!-- Adsterra Native Banner (Square) -->
                    <script async="async" data-cfasync="false" src="//pl27598289.revenuecpmgate.com/66ab86a52b5de6c71875567f09387ce0/invoke.js"></script>
                    <div id="container-66ab86a52b5de6c71875567f09387ce0"></div>
                </div>
            </section>
        </div>
        
        <section class="seo-content">
            <h2>Professional PDF Page Extraction Made Easy</h2>
            <p>PDFExtract Pro is the ultimate online tool for extracting specific pages from PDF files. Whether you need to separate chapters from a document, extract specific forms, or create a new PDF from selected pages, our tool provides all the functionality you need.</p>
            
            <p>With advanced compression options, you can reduce the file size of your extracted PDF while maintaining quality. Our intelligent image optimization ensures that your PDFs remain clear and professional while taking up less space.</p>
            
            <p>All processing happens directly in your browser for maximum privacy and security. Your files never leave your computer, ensuring complete confidentiality for sensitive documents.</p>
        </section>
        
        <footer>
            <p>&copy; 2023 PDFExtract Pro | All Rights Reserved</p>
            <p>This tool processes your PDFs entirely in your browser - no uploads to servers required!</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script>
        // Set PDF.js worker path
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.worker.min.js';

        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const uploadTrigger = document.getElementById('uploadTrigger');
            const pdfUpload = document.getElementById('pdfUpload');
            const extractionMode = document.getElementById('extractionMode');
            const rangeGroup = document.getElementById('rangeGroup');
            const individualGroup = document.getElementById('individualGroup');
            const startPage = document.getElementById('startPage');
            const endPage = document.getElementById('endPage');
            const pageNumbers = document.getElementById('pageNumbers');
            const compressionLevel = document.getElementById('compressionLevel');
            const compressionValue = document.getElementById('compressionValue');
            const extractBtn = document.getElementById('extractBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const resetBtn = document.getElementById('resetBtn');
            const selectionInfo = document.getElementById('selectionInfo');
            const pagePreviews = document.getElementById('pagePreviews');
            const originalSizeStat = document.getElementById('originalSizeStat');
            const extractedSizeStat = document.getElementById('extractedSizeStat');
            const savingsStat = document.getElementById('savingsStat');
            const optimizeImages = document.getElementById('optimizeImages');
            
            let pdfDoc = null;
            let originalPdfSize = 0;
            let extractedPdfBlob = null;
            let selectedPages = new Set();
            let totalPages = 0;
            
            // Event listeners
            uploadTrigger.addEventListener('click', () => pdfUpload.click());
            
            pdfUpload.addEventListener('change', function(e) {
                if (this.files && this.files[0]) {
                    loadPdf(this.files[0]);
                }
            });
            
            extractionMode.addEventListener('change', function() {
                if (this.value === 'range' || this.value === 'odd' || this.value === 'even') {
                    rangeGroup.style.display = 'block';
                    individualGroup.style.display = 'none';
                } else {
                    rangeGroup.style.display = 'none';
                    individualGroup.style.display = 'block';
                }
                
                updateSelectionInfo();
            });
            
            [startPage, endPage, pageNumbers].forEach(input => {
                input.addEventListener('input', updateSelectionInfo);
            });
            
            compressionLevel.addEventListener('input', function() {
                compressionValue.textContent = `${this.value}%`;
            });
            
            extractBtn.addEventListener('click', function() {
                if (!pdfDoc) {
                    alert('Please upload a PDF first.');
                    return;
                }
                
                extractPages();
            });
            
            downloadBtn.addEventListener('click', function() {
                if (!extractedPdfBlob) return;
                
                const downloadLink = document.createElement('a');
                downloadLink.href = URL.createObjectURL(extractedPdfBlob);
                downloadLink.download = 'extracted-pages.pdf';
                document.body.appendChild(downloadLink);
                downloadLink.click();
                document.body.removeChild(downloadLink);
            });
            
            resetBtn.addEventListener('click', function() {
                // Reset everything
                pdfDoc = null;
                extractedPdfBlob = null;
                selectedPages.clear();
                totalPages = 0;
                pdfUpload.value = '';
                pagePreviews.innerHTML = '';
                selectionInfo.textContent = 'No PDF uploaded yet. Please select a file to begin.';
                extractionMode.value = 'range';
                rangeGroup.style.display = 'block';
                individualGroup.style.display = 'none';
                startPage.value = '1';
                endPage.value = '1';
                pageNumbers.value = '';
                compressionLevel.value = 80;
                compressionValue.textContent = '80%';
                optimizeImages.checked = false;
                extractBtn.disabled = true;
                downloadBtn.disabled = true;
                
                // Reset stats
                originalSizeStat.textContent = '0 KB';
                extractedSizeStat.textContent = '0 KB';
                savingsStat.textContent = '0%';
            });
            
            function loadPdf(file) {
                // Check if file is a PDF
                if (file.type !== 'application/pdf') {
                    alert('Please select a valid PDF file.');
                    return;
                }
                
                // Store original file size
                originalPdfSize = file.size;
                const fileSizeKB = (originalPdfSize / 1024).toFixed(2);
                originalSizeStat.textContent = `${fileSizeKB} KB`;
                
                const reader = new FileReader();
                reader.onload = function(event) {
                    const typedarray = new Uint8Array(event.target.result);
                    
                    // Load PDF using pdf.js
                    pdfjsLib.getDocument(typedarray).promise.then(function(pdf) {
                        pdfDoc = pdf;
                        totalPages = pdf.numPages;
                        
                        // Update page range inputs
                        startPage.setAttribute('max', totalPages);
                        endPage.setAttribute('max', totalPages);
                        endPage.value = totalPages;
                        
                        // Display page thumbnails
                        renderPageThumbnails();
                        
                        // Update selection info
                        updateSelectionInfo();
                        
                        // Enable extract button
                        extractBtn.disabled = false;
                    }).catch(function(error) {
                        console.error('Error loading PDF:', error);
                        alert('Error loading PDF. Please try another file.');
                    });
                };
                reader.readAsArrayBuffer(file);
            }
            
            function renderPageThumbnails() {
                pagePreviews.innerHTML = '';
                
                for (let i = 1; i <= totalPages; i++) {
                    const pageNumber = i;
                    
                    // Create thumbnail container
                    const thumbnail = document.createElement('div');
                    thumbnail.className = 'page-thumbnail';
                    thumbnail.setAttribute('data-page', pageNumber);
                    
                    // Create canvas for page preview
                    const canvas = document.createElement('canvas');
                    thumbnail.appendChild(canvas);
                    
                    // Add page number
                    const pageNumElement = document.createElement('div');
                    pageNumElement.className = 'page-number';
                    pageNumElement.textContent = `Page ${pageNumber}`;
                    thumbnail.appendChild(pageNumElement);
                    
                    // Add click event to select/deselect page
                    thumbnail.addEventListener('click', function() {
                        this.classList.toggle('selected');
                        const page = parseInt(this.getAttribute('data-page'));
                        
                        if (this.classList.contains('selected')) {
                            selectedPages.add(page);
                        } else {
                            selectedPages.delete(page);
                        }
                        
                        updateSelectionInfo();
                    });
                    
                    // Render page to canvas
                    pdfDoc.getPage(pageNumber).then(function(page) {
                        const viewport = page.getViewport({ scale: 0.5 });
                        canvas.width = viewport.width;
                        canvas.height = viewport.height;
                        
                        const renderContext = {
                            canvasContext: canvas.getContext('2d'),
                            viewport: viewport
                        };
                        
                        page.render(renderContext);
                    });
                    
                    pagePreviews.appendChild(thumbnail);
                }
            }
            
            function updateSelectionInfo() {
                if (!pdfDoc) return;
                
                const mode = extractionMode.value;
                let pagesToExtract = [];
                
                if (mode === 'range') {
                    const start = parseInt(startPage.value) || 1;
                    const end = parseInt(endPage.value) || totalPages;
                    
                    for (let i = start; i <= end; i++) {
                        if (i >= 1 && i <= totalPages) {
                            pagesToExtract.push(i);
                        }
                    }
                } else if (mode === 'individual') {
                    const input = pageNumbers.value;
                    if (input) {
                        // Parse input like "1,3,5-8,12"
                        const parts = input.split(',');
                        for (const part of parts) {
                            if (part.includes('-')) {
                                const [start, end] = part.split('-').map(n => parseInt(n));
                                for (let i = start; i <= end; i++) {
                                    if (i >= 1 && i <= totalPages) {
                                        pagesToExtract.push(i);
                                    }
                                }
                            } else {
                                const page = parseInt(part);
                                if (page >= 1 && page <= totalPages) {
                                    pagesToExtract.push(page);
                                }
                            }
                        }
                    }
                } else if (mode === 'odd') {
                    const start = parseInt(startPage.value) || 1;
                    const end = parseInt(endPage.value) || totalPages;
                    
                    for (let i = start; i <= end; i++) {
                        if (i >= 1 && i <= totalPages && i % 2 === 1) {
                            pagesToExtract.push(i);
                        }
                    }
                } else if (mode === 'even') {
                    const start = parseInt(startPage.value) || 1;
                    const end = parseInt(endPage.value) || totalPages;
                    
                    for (let i = start; i <= end; i++) {
                        if (i >= 1 && i <= totalPages && i % 2 === 0) {
                            pagesToExtract.push(i);
                        }
                    }
                }
                
                // Update selection info text
                if (pagesToExtract.length > 0) {
                    selectionInfo.textContent = `Selected ${pagesToExtract.length} of ${totalPages} pages for extraction.`;
                } else {
                    selectionInfo.textContent = 'No pages selected for extraction.';
                }
            }
            
            function extractPages() {
                if (!pdfDoc) return;
                
                // Show processing state
                extractBtn.disabled = true;
                extractBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                extractBtn.classList.add('processing');
                
                // Simulate processing time
                setTimeout(() => {
                    // In a real application, this would use pdf-lib to extract pages
                    // For this demo, we'll simulate the process
                    
                    // Calculate extracted size (simplified)
                    const compression = compressionLevel.value / 100;
                    const estimatedSize = originalPdfSize * compression;
                    const estimatedSizeKB = (estimatedSize / 1024).toFixed(2);
                    extractedSizeStat.textContent = `${estimatedSizeKB} KB`;
                    
                    // Calculate savings
                    const savings = (100 - (estimatedSize / originalPdfSize) * 100).toFixed(1);
                    savingsStat.textContent = `${savings}%`;
                    
                    // Create a blob for download (simulated)
                    extractedPdfBlob = new Blob(['Simulated PDF extraction'], { type: 'application/pdf' });
                    
                    // Enable download button
                    downloadBtn.disabled = false;
                    
                    // Reset extract button
                    extractBtn.disabled = false;
                    extractBtn.innerHTML = '<i class="fas fa-cut"></i> Extract Pages';
                    extractBtn.classList.remove('processing');
                    
                    selectionInfo.textContent += ' Extraction complete! Click Download to get your file.';
                }, 2000);
            }
            
            // Theme toggle functionality
            const themeToggle = document.querySelector('.theme-toggle');
            themeToggle.addEventListener('click', function() {
                const icon = this.querySelector('i');
                if (icon.classList.contains('fa-moon')) {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                    this.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
                    document.body.style.filter = 'invert(1) hue-rotate(180deg)';
                } else {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                    this.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
                    document.body.style.filter = 'none';
                }
            });
        });
    </script>
</body>
</html>
